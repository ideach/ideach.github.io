import{_ as p,M as i,p as l,q as o,R as n,t as s,N as t,a1 as a}from"./framework-96b046e1.js";const c={},r=a('<h1 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h1><h2 id="httpx库" tabindex="-1"><a class="header-anchor" href="#httpx库" aria-hidden="true">#</a> Httpx库</h2><h3 id="简介" tabindex="-1"><a class="header-anchor" href="#简介" aria-hidden="true">#</a> 简介</h3>',3),u=n("strong",null,"httpx是Python新一代的网络请求库",-1),d={href:"https://www.python-httpx.org/",target:"_blank",rel:"noopener noreferrer"},h=n("ul",null,[n("li",null,"兼容Resquests语法"),n("li",null,"基于Python3的功能齐全的http请求模块"),n("li",null,"既能发送同步请求，也能发送异步请求"),n("li",null,"支持HTTP/1.1和HTTP/2"),n("li",null,"能够直接向WSGI应用程序或者ASGI应用程序发送请求")],-1),k=a(`<h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># pip安装</span>
pip <span class="token function">install</span> httpx<span class="token punctuation">[</span>http2<span class="token punctuation">]</span>
<span class="token comment"># python安装</span>
python <span class="token parameter variable">-m</span> pip <span class="token function">install</span> httpx<span class="token punctuation">[</span>http2<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用" tabindex="-1"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h3><ul><li><h4 id="发送请求" tabindex="-1"><a class="header-anchor" href="#发送请求" aria-hidden="true">#</a> 发送请求</h4></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 引入库</span>
<span class="token keyword">import</span> httpx

<span class="token comment"># 开启http/2支持(通过client请求)</span>
client <span class="token operator">=</span> httpx<span class="token punctuation">.</span>Client<span class="token punctuation">(</span>http2<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment"># 发送请求</span>
r <span class="token operator">=</span> httpx<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;https://httpbin.org/get&#39;</span><span class="token punctuation">)</span>
r <span class="token operator">=</span> httpx<span class="token punctuation">.</span>post<span class="token punctuation">(</span><span class="token string">&#39;https://httpbin.org/post&#39;</span><span class="token punctuation">,</span> data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;key&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;value&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
r <span class="token operator">=</span> httpx<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">&#39;https://httpbin.org/put&#39;</span><span class="token punctuation">,</span> data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;key&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;value&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
r <span class="token operator">=</span> httpx<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token string">&#39;https://httpbin.org/delete&#39;</span><span class="token punctuation">)</span>
r <span class="token operator">=</span> httpx<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token string">&#39;https://httpbin.org/get&#39;</span><span class="token punctuation">)</span>
r <span class="token operator">=</span> httpx<span class="token punctuation">.</span>options<span class="token punctuation">(</span><span class="token string">&#39;https://httpbin.org/get&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><h4 id="带有请求头和请求参数" tabindex="-1"><a class="header-anchor" href="#带有请求头和请求参数" aria-hidden="true">#</a> 带有请求头和请求参数</h4></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> httpx

headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;user-agent&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;my-app/1.0.0&#39;</span><span class="token punctuation">}</span>
params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;key1&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;value1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;key2&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;value2&#39;</span><span class="token punctuation">}</span>
url <span class="token operator">=</span> <span class="token string">&#39;https://httpbin.org/get&#39;</span>
r <span class="token operator">=</span> httpx<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> params<span class="token operator">=</span>params<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span>  <span class="token comment"># 状态码</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>encoding<span class="token punctuation">)</span>  <span class="token comment"># 文本编码</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><h4 id="带有cookies的请求" tabindex="-1"><a class="header-anchor" href="#带有cookies的请求" aria-hidden="true">#</a> 带有cookies的请求</h4></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">import</span> httpx

url <span class="token operator">=</span> <span class="token string">&#39;http://httpbin.org/cookies&#39;</span>
cookies <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;color&#39;</span><span class="token builtin class-name">:</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">}</span>
r <span class="token operator">=</span> httpx.get<span class="token punctuation">(</span>url, <span class="token assign-left variable">cookies</span><span class="token operator">=</span>cookies<span class="token punctuation">)</span>
print<span class="token punctuation">(</span>r.json<span class="token punctuation">(</span><span class="token punctuation">))</span>  <span class="token comment"># {&#39;cookies&#39;: {&#39;color&#39;: &#39;green&#39;}}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><h4 id="设置超时时间" tabindex="-1"><a class="header-anchor" href="#设置超时时间" aria-hidden="true">#</a> 设置超时时间</h4></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">import</span> httpx

r <span class="token operator">=</span> httpx.get<span class="token punctuation">(</span><span class="token string">&#39;http://httpbin.org&#39;</span>, <span class="token assign-left variable">timeout</span><span class="token operator">=</span><span class="token number">0.001</span><span class="token punctuation">)</span>
print<span class="token punctuation">(</span>r<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><h4 id="使用client发送请求" tabindex="-1"><a class="header-anchor" href="#使用client发送请求" aria-hidden="true">#</a> 使用client发送请求</h4></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">import</span> httpx

with httpx.Client<span class="token punctuation">(</span><span class="token punctuation">)</span> as client:
    headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;X-Custom&#39;</span><span class="token builtin class-name">:</span> <span class="token string">&#39;value&#39;</span><span class="token punctuation">}</span>
    r <span class="token operator">=</span> client.get<span class="token punctuation">(</span><span class="token string">&#39;https://example.com&#39;</span>, <span class="token assign-left variable">headers</span><span class="token operator">=</span>headers<span class="token punctuation">)</span>
    print<span class="token punctuation">(</span>r.text<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><h4 id="http代理" tabindex="-1"><a class="header-anchor" href="#http代理" aria-hidden="true">#</a> HTTP代理</h4></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">import</span> httpx

proxies <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;http://&#39;</span><span class="token builtin class-name">:</span> <span class="token string">&#39;http://localhost:8080&#39;</span>,  <span class="token comment"># 代理1</span>
    <span class="token string">&#39;https://&#39;</span><span class="token builtin class-name">:</span> <span class="token string">&#39;http://localhost:8081&#39;</span>,  <span class="token comment"># 代理2</span>
<span class="token punctuation">}</span>
url <span class="token operator">=</span> <span class="token string">&#39;https://example.com&#39;</span>
with httpx.Client<span class="token punctuation">(</span>proxies<span class="token operator">=</span>proxies<span class="token punctuation">)</span> as client:
    r1 <span class="token operator">=</span> client.get<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    print<span class="token punctuation">(</span>r1<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="parsel库" tabindex="-1"><a class="header-anchor" href="#parsel库" aria-hidden="true">#</a> Parsel库</h2><h3 id="简介-1" tabindex="-1"><a class="header-anchor" href="#简介-1" aria-hidden="true">#</a> 简介</h3>`,17),v=n("strong",null,"Parsel由Scrapy团队开发",-1),m={href:"https://parsel.readthedocs.io/en/latest/",target:"_blank",rel:"noopener noreferrer"},b=n("ul",null,[n("li",null,[s("支持 "),n("code",null,"XPath"),s(" 和 "),n("code",null,"CSS"),s(" 选择器")]),n("li",null,[s("支持"),n("strong",null,"正则表达式"),s("的提取")])],-1),g=a(`<h3 id="安装-1" tabindex="-1"><a class="header-anchor" href="#安装-1" aria-hidden="true">#</a> 安装</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># pip安装</span>
pip <span class="token function">install</span> parsel
<span class="token comment"># python安装</span>
python <span class="token parameter variable">-m</span> pip <span class="token function">install</span> parsel
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用-1" tabindex="-1"><a class="header-anchor" href="#使用-1" aria-hidden="true">#</a> 使用</h3><ul><li><h4 id="初始化" tabindex="-1"><a class="header-anchor" href="#初始化" aria-hidden="true">#</a> 初始化</h4></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 引入库</span>
<span class="token keyword">from</span> parsel <span class="token keyword">import</span> Selector

<span class="token comment"># 请求数据</span>
html <span class="token operator">=</span> httpx<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;https://ssr1.scrape.center&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text

<span class="token comment"># 创建selector对象 并传入文档</span>
selector <span class="token operator">=</span> Selector<span class="token punctuation">(</span>text<span class="token operator">=</span>html<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><h4 id="css选择器" tabindex="-1"><a class="header-anchor" href="#css选择器" aria-hidden="true">#</a> css选择器</h4></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">for</span> iterm <span class="token keyword">in</span> iterms<span class="token punctuation">:</span>
    text <span class="token operator">=</span> item<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">&#39;.name ::text&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get
    <span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><h4 id="xpath选择器" tabindex="-1"><a class="header-anchor" href="#xpath选择器" aria-hidden="true">#</a> xpath选择器</h4></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">for</span> iterm <span class="token keyword">in</span> iterms<span class="token punctuation">:</span>
    text <span class="token operator">=</span> item<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">&#39;//a[contains(@class, &quot;name&quot;)]&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get
    <span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="xlwings库" tabindex="-1"><a class="header-anchor" href="#xlwings库" aria-hidden="true">#</a> Xlwings库</h2><h3 id="简介-2" tabindex="-1"><a class="header-anchor" href="#简介-2" aria-hidden="true">#</a> 简介</h3>`,11),x=n("strong",null,"Xlwings用于Python操作Excel文档",-1),f={href:"https://www.kancloud.cn/gnefnuy/xlwings-docs/1127450/",target:"_blank",rel:"noopener noreferrer"},y=n("ul",null,[n("li",null,[s("支持 "),n("code",null,".xls"),s(),n("strong",null,"读")]),n("li",null,[s("支持 "),n("code",null,".xlsx"),s(),n("strong",null,"读写")]),n("li",null,[s("支持 "),n("code",null,"VBA")])],-1),_=a(`<h3 id="安装-2" tabindex="-1"><a class="header-anchor" href="#安装-2" aria-hidden="true">#</a> 安装</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># pip安装</span>
pip <span class="token function">install</span> xlwings
<span class="token comment"># python安装</span>
python <span class="token parameter variable">-m</span> pip <span class="token function">install</span> xlwings
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2);function w(P,S){const e=i("ExternalLinkIcon");return l(),o("div",null,[r,n("ul",null,[n("li",null,[u,s(", "),n("a",d,[s("官方文档"),t(e)]),h])]),k,n("ul",null,[n("li",null,[v,s(", "),n("a",m,[s("官方文档"),t(e)]),b])]),g,n("ul",null,[n("li",null,[x,s(", "),n("a",f,[s("官方文档"),t(e)]),y])]),_])}const C=p(c,[["render",w],["__file","lib.html.vue"]]);export{C as default};
